{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Franco\\\\Desktop\\\\Proyecto_Notificaciones\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { io } from 'socket.io-client';\nimport Notification from './Notification';\nimport './App.css'; // Importa el archivo CSS para estilos\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io('http://localhost:4000');\nfunction App() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [users, setUsers] = useState([]);\n  const [message, setMessage] = useState('');\n  const [notifications, setNotifications] = useState([]);\n  useEffect(() => {\n    socket.on('user_update', users => {\n      setUsers(users);\n    });\n    socket.on('notification', notification => {\n      setNotifications(prevNotifications => {\n        const newNotifications = [notification, ...prevNotifications];\n        return newNotifications.slice(0, 10); // Limitar a 10 notificaciones\n      });\n    });\n    return () => {\n      socket.off('user_update');\n      socket.off('notification');\n    };\n  }, []);\n  const handleUserSelect = user => {\n    setUser(user);\n    socket.emit('user_connected', user);\n  };\n  const handleDisconnect = () => {\n    socket.emit('disconnect');\n    setUser(null);\n  };\n  const handleSendNotification = () => {\n    if (message.trim()) {\n      socket.emit('send_notification', {\n        message: message,\n        user: user,\n        target: 'all' // Puede cambiar a un usuario específico si es necesario\n      });\n      setMessage('');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: !user ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-selection\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"user-button\",\n        onClick: () => handleUserSelect('Usuario 1'),\n        children: \"Usuario 1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"user-button\",\n        onClick: () => handleUserSelect('Usuario 2'),\n        children: \"Usuario 2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"user-button\",\n        onClick: () => handleUserSelect('Usuario 3'),\n        children: \"Usuario 3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Bienvenido, \", user]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"disconnect-button\",\n        onClick: handleDisconnect,\n        children: \"Desconectar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"notification-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"message-input\",\n          value: message,\n          onChange: e => setMessage(e.target.value),\n          placeholder: \"Escribe una notificaci\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"send-button\",\n          onClick: handleSendNotification,\n          children: \"Enviar Notificaci\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Notification, {\n        notifications: notifications\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n}\n_s(App, \"PAJq26Nx4i917aSsongfgcFoubU=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","io","Notification","jsxDEV","_jsxDEV","socket","App","_s","user","setUser","users","setUsers","message","setMessage","notifications","setNotifications","on","notification","prevNotifications","newNotifications","slice","off","handleUserSelect","emit","handleDisconnect","handleSendNotification","trim","target","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/Franco/Desktop/Proyecto_Notificaciones/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { io } from 'socket.io-client';\r\nimport Notification from './Notification';\r\nimport './App.css'; // Importa el archivo CSS para estilos\r\n\r\nconst socket = io('http://localhost:4000');\r\n\r\nfunction App() {\r\n    const [user, setUser] = useState(null);\r\n    const [users, setUsers] = useState([]);\r\n    const [message, setMessage] = useState('');\r\n    const [notifications, setNotifications] = useState([]);\r\n\r\n    useEffect(() => {\r\n        socket.on('user_update', (users) => {\r\n            setUsers(users);\r\n        });\r\n\r\n        socket.on('notification', (notification) => {\r\n            setNotifications((prevNotifications) => {\r\n                const newNotifications = [notification, ...prevNotifications];\r\n                return newNotifications.slice(0, 10); // Limitar a 10 notificaciones\r\n            });\r\n        });\r\n\r\n        return () => {\r\n            socket.off('user_update');\r\n            socket.off('notification');\r\n        };\r\n    }, []);\r\n\r\n    const handleUserSelect = (user) => {\r\n        setUser(user);\r\n        socket.emit('user_connected', user);\r\n    };\r\n\r\n    const handleDisconnect = () => {\r\n        socket.emit('disconnect');\r\n        setUser(null);\r\n    };\r\n\r\n    const handleSendNotification = () => {\r\n        if (message.trim()) {\r\n            socket.emit('send_notification', {\r\n                message: message,\r\n                user: user,\r\n                target: 'all', // Puede cambiar a un usuario específico si es necesario\r\n            });\r\n            setMessage('');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            {!user ? (\r\n                <div className=\"user-selection\">\r\n                    <button className=\"user-button\" onClick={() => handleUserSelect('Usuario 1')}>Usuario 1</button>\r\n                    <button className=\"user-button\" onClick={() => handleUserSelect('Usuario 2')}>Usuario 2</button>\r\n                    <button className=\"user-button\" onClick={() => handleUserSelect('Usuario 3')}>Usuario 3</button>\r\n                </div>\r\n            ) : (\r\n                <div className=\"dashboard\">\r\n                    <h2>Bienvenido, {user}</h2>\r\n                    <button className=\"disconnect-button\" onClick={handleDisconnect}>Desconectar</button>\r\n                    <div className=\"notification-form\">\r\n                        <textarea\r\n                            className=\"message-input\"\r\n                            value={message}\r\n                            onChange={(e) => setMessage(e.target.value)}\r\n                            placeholder=\"Escribe una notificación\"\r\n                        />\r\n                        <button className=\"send-button\" onClick={handleSendNotification}>Enviar Notificación</button>\r\n                    </div>\r\n                    <Notification notifications={notifications} />\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,EAAE,QAAQ,kBAAkB;AACrC,OAAOC,YAAY,MAAM,gBAAgB;AACzC,OAAO,WAAW,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEpB,MAAMC,MAAM,GAAGJ,EAAE,CAAC,uBAAuB,CAAC;AAE1C,SAASK,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACX,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACe,aAAa,EAAEC,gBAAgB,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAEtDC,SAAS,CAAC,MAAM;IACZK,MAAM,CAACW,EAAE,CAAC,aAAa,EAAGN,KAAK,IAAK;MAChCC,QAAQ,CAACD,KAAK,CAAC;IACnB,CAAC,CAAC;IAEFL,MAAM,CAACW,EAAE,CAAC,cAAc,EAAGC,YAAY,IAAK;MACxCF,gBAAgB,CAAEG,iBAAiB,IAAK;QACpC,MAAMC,gBAAgB,GAAG,CAACF,YAAY,EAAE,GAAGC,iBAAiB,CAAC;QAC7D,OAAOC,gBAAgB,CAACC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;MAC1C,CAAC,CAAC;IACN,CAAC,CAAC;IAEF,OAAO,MAAM;MACTf,MAAM,CAACgB,GAAG,CAAC,aAAa,CAAC;MACzBhB,MAAM,CAACgB,GAAG,CAAC,cAAc,CAAC;IAC9B,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,gBAAgB,GAAId,IAAI,IAAK;IAC/BC,OAAO,CAACD,IAAI,CAAC;IACbH,MAAM,CAACkB,IAAI,CAAC,gBAAgB,EAAEf,IAAI,CAAC;EACvC,CAAC;EAED,MAAMgB,gBAAgB,GAAGA,CAAA,KAAM;IAC3BnB,MAAM,CAACkB,IAAI,CAAC,YAAY,CAAC;IACzBd,OAAO,CAAC,IAAI,CAAC;EACjB,CAAC;EAED,MAAMgB,sBAAsB,GAAGA,CAAA,KAAM;IACjC,IAAIb,OAAO,CAACc,IAAI,CAAC,CAAC,EAAE;MAChBrB,MAAM,CAACkB,IAAI,CAAC,mBAAmB,EAAE;QAC7BX,OAAO,EAAEA,OAAO;QAChBJ,IAAI,EAAEA,IAAI;QACVmB,MAAM,EAAE,KAAK,CAAE;MACnB,CAAC,CAAC;MACFd,UAAU,CAAC,EAAE,CAAC;IAClB;EACJ,CAAC;EAED,oBACIT,OAAA;IAAKwB,SAAS,EAAC,KAAK;IAAAC,QAAA,EACf,CAACrB,IAAI,gBACFJ,OAAA;MAAKwB,SAAS,EAAC,gBAAgB;MAAAC,QAAA,gBAC3BzB,OAAA;QAAQwB,SAAS,EAAC,aAAa;QAACE,OAAO,EAAEA,CAAA,KAAMR,gBAAgB,CAAC,WAAW,CAAE;QAAAO,QAAA,EAAC;MAAS;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAChG9B,OAAA;QAAQwB,SAAS,EAAC,aAAa;QAACE,OAAO,EAAEA,CAAA,KAAMR,gBAAgB,CAAC,WAAW,CAAE;QAAAO,QAAA,EAAC;MAAS;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAChG9B,OAAA;QAAQwB,SAAS,EAAC,aAAa;QAACE,OAAO,EAAEA,CAAA,KAAMR,gBAAgB,CAAC,WAAW,CAAE;QAAAO,QAAA,EAAC;MAAS;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/F,CAAC,gBAEN9B,OAAA;MAAKwB,SAAS,EAAC,WAAW;MAAAC,QAAA,gBACtBzB,OAAA;QAAAyB,QAAA,GAAI,cAAY,EAACrB,IAAI;MAAA;QAAAuB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC3B9B,OAAA;QAAQwB,SAAS,EAAC,mBAAmB;QAACE,OAAO,EAAEN,gBAAiB;QAAAK,QAAA,EAAC;MAAW;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACrF9B,OAAA;QAAKwB,SAAS,EAAC,mBAAmB;QAAAC,QAAA,gBAC9BzB,OAAA;UACIwB,SAAS,EAAC,eAAe;UACzBO,KAAK,EAAEvB,OAAQ;UACfwB,QAAQ,EAAGC,CAAC,IAAKxB,UAAU,CAACwB,CAAC,CAACV,MAAM,CAACQ,KAAK,CAAE;UAC5CG,WAAW,EAAC;QAA0B;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzC,CAAC,eACF9B,OAAA;UAAQwB,SAAS,EAAC,aAAa;UAACE,OAAO,EAAEL,sBAAuB;UAAAI,QAAA,EAAC;QAAmB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5F,CAAC,eACN9B,OAAA,CAACF,YAAY;QAACY,aAAa,EAAEA;MAAc;QAAAiB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7C;EACR;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAEd;AAAC3B,EAAA,CAvEQD,GAAG;AAAAiC,EAAA,GAAHjC,GAAG;AAyEZ,eAAeA,GAAG;AAAC,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}